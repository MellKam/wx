---
source: crates/wx-compiler/src/tests.rs
expression: mir
---
functions:
  - symbol: 1
    ty:
      param_count: 2
      params_results:
        - I32
        - I32
        - I32
    block:
      kind:
        Block:
          scope:
            index: 0
            kind: Block
            parent: ~
            children:
              - 1
              - 2
            result: I32
          expressions:
            - kind:
                IfElse:
                  condition:
                    kind:
                      Less:
                        left:
                          kind:
                            Local:
                              local:
                                index: 1
                                symbol: 4
                                ty: I32
                                mutability: Mutable
                              scope: 0
                          ty: I32
                        right:
                          kind:
                            Int:
                              value: 0
                          ty: I32
                    ty: Bool
                  then_block:
                    kind:
                      Block:
                        scope:
                          index: 1
                          kind: Block
                          parent: 0
                          children: []
                          result: Never
                        expressions:
                          - kind:
                              Return:
                                value:
                                  kind:
                                    Int:
                                      value: 0
                                  ty: I32
                            ty: Never
                    ty: Never
                  else_block: ~
              ty: Unit
            - kind:
                LocalSet:
                  local:
                    index: 2
                    symbol: 5
                    ty: I32
                    mutability: Mutable
                  scope: 0
                  value:
                    kind:
                      Int:
                        value: 1
                    ty: I32
              ty: Unit
            - kind:
                Loop:
                  block:
                    kind:
                      Block:
                        scope:
                          index: 2
                          kind: Loop
                          parent: 0
                          children:
                            - 3
                          result: I32
                        expressions:
                          - kind:
                              IfElse:
                                condition:
                                  kind:
                                    Eq:
                                      left:
                                        kind:
                                          Local:
                                            local:
                                              index: 1
                                              symbol: 4
                                              ty: I32
                                              mutability: Mutable
                                            scope: 0
                                        ty: I32
                                      right:
                                        kind:
                                          Int:
                                            value: 0
                                        ty: I32
                                  ty: Bool
                                then_block:
                                  kind:
                                    Block:
                                      scope:
                                        index: 3
                                        kind: Block
                                        parent: 2
                                        children: []
                                        result: Never
                                      expressions:
                                        - kind:
                                            Break:
                                              scope:
                                                index: 2
                                                kind: Loop
                                                parent: 0
                                                children:
                                                  - 3
                                                result: I32
                                              value:
                                                kind:
                                                  Local:
                                                    local:
                                                      index: 2
                                                      symbol: 5
                                                      ty: I32
                                                      mutability: Mutable
                                                    scope: 0
                                                ty: I32
                                          ty: Never
                                  ty: Never
                                else_block: ~
                            ty: Unit
                          - kind:
                              LocalSet:
                                local:
                                  index: 2
                                  symbol: 5
                                  ty: I32
                                  mutability: Mutable
                                scope: 0
                                value:
                                  kind:
                                    Mul:
                                      left:
                                        kind:
                                          Local:
                                            local:
                                              index: 2
                                              symbol: 5
                                              ty: I32
                                              mutability: Mutable
                                            scope: 0
                                        ty: I32
                                      right:
                                        kind:
                                          Local:
                                            local:
                                              index: 0
                                              symbol: 2
                                              ty: I32
                                              mutability: Const
                                            scope: 0
                                        ty: I32
                                  ty: I32
                            ty: Unit
                          - kind:
                              LocalSet:
                                local:
                                  index: 1
                                  symbol: 4
                                  ty: I32
                                  mutability: Mutable
                                scope: 0
                                value:
                                  kind:
                                    Sub:
                                      left:
                                        kind:
                                          Local:
                                            local:
                                              index: 1
                                              symbol: 4
                                              ty: I32
                                              mutability: Mutable
                                            scope: 0
                                        ty: I32
                                      right:
                                        kind:
                                          Int:
                                            value: 1
                                        ty: I32
                                  ty: I32
                            ty: Unit
                    ty: I32
              ty: I32
      ty: I32
globals: []
exports:
  - Function:
      func_index: 0
