---
source: crates/wx-compiler/src/tests.rs
expression: mir
---
functions:
  - symbol: 1
    ty:
      param_count: 2
      params_results:
        - I32
        - I32
        - I32
    block:
      kind:
        Block:
          scope:
            index: 0
            kind: Block
            parent: ~
            children: []
            result: I32
          expressions:
            - kind:
                Add:
                  left:
                    kind:
                      Local:
                        local:
                          index: 0
                          symbol: 2
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
                  right:
                    kind:
                      Local:
                        local:
                          index: 1
                          symbol: 4
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
              ty: I32
      ty: I32
  - symbol: 5
    ty:
      param_count: 2
      params_results:
        - I32
        - I32
        - I32
    block:
      kind:
        Block:
          scope:
            index: 0
            kind: Block
            parent: ~
            children: []
            result: I32
          expressions:
            - kind:
                Sub:
                  left:
                    kind:
                      Local:
                        local:
                          index: 0
                          symbol: 2
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
                  right:
                    kind:
                      Local:
                        local:
                          index: 1
                          symbol: 4
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
              ty: I32
      ty: I32
  - symbol: 6
    ty:
      param_count: 3
      params_results:
        - Function: 0
        - I32
        - I32
        - I32
    block:
      kind:
        Block:
          scope:
            index: 0
            kind: Block
            parent: ~
            children: []
            result: I32
          expressions:
            - kind:
                Call:
                  callee:
                    kind:
                      Local:
                        local:
                          index: 0
                          symbol: 7
                          ty:
                            Function: 0
                          mutability: Const
                        scope: 0
                    ty:
                      Function: 0
                  arguments:
                    - kind:
                        Local:
                          local:
                            index: 1
                            symbol: 2
                            ty: I32
                            mutability: Const
                          scope: 0
                      ty: I32
                    - kind:
                        Local:
                          local:
                            index: 2
                            symbol: 4
                            ty: I32
                            mutability: Const
                          scope: 0
                      ty: I32
              ty: I32
      ty: I32
  - symbol: 8
    ty:
      param_count: 0
      params_results:
        - I32
    block:
      kind:
        Block:
          scope:
            index: 0
            kind: Block
            parent: ~
            children: []
            result: I32
          expressions:
            - kind:
                LocalSet:
                  local:
                    index: 0
                    symbol: 2
                    ty: I32
                    mutability: Const
                  scope: 0
                  value:
                    kind:
                      Call:
                        callee:
                          kind:
                            Function:
                              index: 2
                          ty:
                            Function: 1
                        arguments:
                          - kind:
                              Function:
                                index: 0
                            ty:
                              Function: 0
                          - kind:
                              Int:
                                value: 5
                            ty: I32
                          - kind:
                              Int:
                                value: 10
                            ty: I32
                    ty: I32
              ty: Unit
            - kind:
                LocalSet:
                  local:
                    index: 1
                    symbol: 4
                    ty: I32
                    mutability: Const
                  scope: 0
                  value:
                    kind:
                      Call:
                        callee:
                          kind:
                            Function:
                              index: 2
                          ty:
                            Function: 1
                        arguments:
                          - kind:
                              Function:
                                index: 1
                            ty:
                              Function: 0
                          - kind:
                              Int:
                                value: 10
                            ty: I32
                          - kind:
                              Int:
                                value: 5
                            ty: I32
                    ty: I32
              ty: Unit
            - kind:
                LocalSet:
                  local:
                    index: 2
                    symbol: 9
                    ty: I32
                    mutability: Const
                  scope: 0
                  value:
                    kind:
                      Int:
                        value: 5
                    ty: I32
              ty: Unit
            - kind:
                Add:
                  left:
                    kind:
                      Local:
                        local:
                          index: 0
                          symbol: 2
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
                  right:
                    kind:
                      Local:
                        local:
                          index: 1
                          symbol: 4
                          ty: I32
                          mutability: Const
                        scope: 0
                    ty: I32
              ty: I32
      ty: I32
globals: []
exports:
  - Function:
      func_index: 3
